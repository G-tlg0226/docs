# nodejs 包管理工具对比

nodejs默认的包管理工具为 `npm` , facebook 公开了新的 javascript 包管理工具 `yarn` , 用来替代目前被广泛使用的 npm (nodejs 自带的包管理工具)，关于 `npm` 不再赘述，且看 `yarn` 

### yarn 有以下六项特点

* 离线模式（重要）

如果之前已经安装过一个软件包，再次安装时就不用再从网络下载了。

这一点很重要，npm 饱受诟病的一点就是，每次安装依赖，都需要从网络下载一大堆东西，而且是全部重新下载。工程多的时候比较烦人。这下子可以节约大量时间了。

* 依赖关系确定性（重要）

yarn 采用的解决方式是，引入了一个 yarn.lock 文件来应对这个问题。lock 机制在很多包管理中都有用到

* 更好的网络性能

下载软件包时，会进行更好的排序，避免“请求瀑布”，最大限度提高网络利用率。

* 多注册来源处理

所有的依赖包，不管他被不同的库间接关联引用多少次，安装这个包时，只会从一个注册来源去装，要么是 npm 要么是 bower, 防止出现混乱不一致。

* 网络弹性处理

安装依赖的过程中，不会因为某个单次网络请求的失败导致整个安装挂掉（这里又要黑一下 npm）。当请求失败时会进行自动重试。

* 扁平模式（重要）

当关联依赖中包括对某个软件包的重复引用，在实际安装时将尽量避免重复的创建